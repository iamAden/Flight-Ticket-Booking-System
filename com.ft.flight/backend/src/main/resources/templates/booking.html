<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Flight Booking System</title>
        <link rel="stylesheet" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    </head>
    <body>
        <section class="booking-header">
            <nav>
                <a href="index.html"><img src="images/logoP.png"></a>
                <div class="nav-links" id="navLinks">
                    <i class="fa fa-times" onclick="hideMenu()"></i>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="contact.html">Contact</a></li>
                        <li><a href="booking.html">Booking</a></li>
                    </ul>
                </div>
                <i class="fa fa-bars" onclick="showMenu()"></i>
            </nav>
                <h1>Booking</h1>

            <div class="raw">
            <div class="search-col">
                    <form action="" id="bookForm">
                        <input type="date" id="date" placeholder="When are you leaving?" required>
                        <input type="text" id="source" placeholder="Where are you now?" required>
                        <input type="text" id="destination" placeholder="Where are you going?" required>
                        <button class="hero-btn">Search</button>
                    </form>
                </div>
            </div>
        </section>

        <!------------Footer------->
        <section class="footer">
            <h4>About Us</h4>
            <p>FlightHub is a project developed for WIA1002  Data Structure <br>
            using SpringBoot, MySQL, and HTML.</p>
            <div class="icons">
                <a href="https://github.com/iamAden/Flight-Ticket-Booking-System" target="_blank">
                    <i class="fa fa-github"></i>
                </a>
            </div>
            <p>Made with <i class="fa fa-heart-o"></i> by DS Group 40</p>
        </section>

        <!-----------JavaScriptfor Toggle Menu-------->
       <script>
        var navLinks = document.getElementById("navLinks");
        function showMenu(){
            navLinks.style.right = "0";
        }
        function hideMenu(){
            navLinks.style.right = "-200px";
        }
       </script>
        <script>
            document.getElementById('bookForm').addEventListener('submit', function (event) {
                event.preventDefault();

                var date = document.getElementById('date').value;
                var source = document.getElementById('source').value;
                var destination = document.getElementById('destination').value;

                var searchData = {
                    date: date,
                    source: source,
                    destination: destination
                };
                console.log('date:', date);
                console.log('source:', source);
                console.log('destination:', destination);
                fetch('/search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(searchData)
                })
                .then(response => response.json())
                ;
            });
        </script>
    </body>
</html>